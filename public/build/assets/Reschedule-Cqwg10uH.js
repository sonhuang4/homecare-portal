import{u as k,r as y,x as T,j as e,t as m}from"./app-CM2Jc_wx.js";import{C as R}from"./ClientLayout-0McRaGse.js";function B({auth:v,appointment:f,availableDates:x=[]}){const{success:N,error:_,info:h,warning:p}=k(),[t,w]=y.useState(null),[a,u]=y.useState(null),{data:n,setData:b,patch:S,processing:d,errors:c}=T({appointment_date:"",start_time:"",end_time:""}),g=x.length>0?x:[{date:"2024-06-25",date_formatted:"Jun 25, 2024",day_name:"Tuesday",slots:[{start_time:"08:00",end_time:"10:00",label:"8:00 AM - 10:00 AM"},{start_time:"10:00",end_time:"12:00",label:"10:00 AM - 12:00 PM"},{start_time:"14:00",end_time:"16:00",label:"2:00 PM - 4:00 PM"}]},{date:"2024-06-26",date_formatted:"Jun 26, 2024",day_name:"Wednesday",slots:[{start_time:"08:00",end_time:"10:00",label:"8:00 AM - 10:00 AM"},{start_time:"12:00",end_time:"14:00",label:"12:00 PM - 2:00 PM"},{start_time:"16:00",end_time:"18:00",label:"4:00 PM - 6:00 PM"}]},{date:"2024-06-27",date_formatted:"Jun 27, 2024",day_name:"Thursday",slots:[{start_time:"09:00",end_time:"11:00",label:"9:00 AM - 11:00 AM"},{start_time:"13:00",end_time:"15:00",label:"1:00 PM - 3:00 PM"},{start_time:"15:00",end_time:"17:00",label:"3:00 PM - 5:00 PM"}]},{date:"2024-06-28",date_formatted:"Jun 28, 2024",day_name:"Friday",slots:[{start_time:"08:00",end_time:"10:00",label:"8:00 AM - 10:00 AM"},{start_time:"11:00",end_time:"13:00",label:"11:00 AM - 1:00 PM"},{start_time:"14:00",end_time:"16:00",label:"2:00 PM - 4:00 PM"}]}],r=f||{id:1,service_type:"preventive_maintenance",title:"Monthly Preventive Maintenance Visit",appointment_date:"2024-06-25",start_time:"10:00",service_type_label:"Preventive Maintenance",full_date_time:"Jun 25, 2024 at 10:00 AM",address:"1247 Sunset Blvd, Los Angeles, CA 90026",priority_label:"Standard"},M=s=>{w(s),u(null),b({appointment_date:s.date,start_time:"",end_time:""})},A=s=>{u(s),b({...n,start_time:s.start_time,end_time:s.end_time})},C=s=>{if(s.preventDefault(),!n.appointment_date){p("Please select a new service date");return}if(!n.start_time||!n.end_time){p("Please select a service time slot");return}h("Rescheduling your homecare service appointment..."),S(`/appointments/${r.id}/reschedule`,{onSuccess:()=>{N("üè° Service appointment rescheduled successfully! Our NWB team has been notified and will contact you to confirm the new schedule.")},onError:()=>{_("Failed to reschedule service appointment. The selected time slot may no longer be available. Please call (323) 555-HOME for immediate assistance.")}})},P=s=>({preventive_maintenance:"üîß",emergency_repair:"üö®",property_inspection:"üìã",home_improvement:"üèóÔ∏è",hvac_service:"‚ùÑÔ∏è",plumbing_service:"üöø",electrical_service:"‚ö°",roofing_service:"üè†",painting_service:"üé®",landscaping_service:"üåø",security_service:"üîí",general_maintenance:"üõ†Ô∏è",consultation:"üë®‚Äç‚öïÔ∏è",home_visit:"üè†",follow_up:"üîÑ",assessment:"üìã",therapy:"üí™",medical_checkup:"ü©∫"})[s]||"üìÖ",j=(s,i)=>{if(r.full_date_time)return r.full_date_time;const l=new Date(s),o=i.includes("T")?new Date(i):new Date(`2000-01-01T${i}`);return l.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})+" at "+o.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})};return e.jsx(R,{title:"Reschedule Service Appointment - NWB Homecare",auth:v,children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",style:{backgroundColor:"#0a0a0a"},children:[e.jsxs("div",{className:"relative overflow-hidden rounded-3xl",style:{background:"linear-gradient(135deg, rgba(0, 179, 186, 0.1) 0%, rgba(0, 179, 186, 0.05) 100%)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 rounded-full filter blur-3xl",style:{backgroundColor:"#00b3ba"}})}),e.jsxs("div",{className:"relative p-8",children:[e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsx(m,{href:"/appointments",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"‚Üê Back to Service Appointments"})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-4xl font-bold text-white mb-3 flex items-center justify-center",children:[e.jsx("span",{className:"mr-4 text-5xl",children:"üè°"}),"Reschedule Service Appointment"]}),e.jsx("p",{className:"text-xl text-slate-300 mb-2",children:"Select a new date and time for your property service"}),e.jsx("p",{className:"text-sm font-medium",style:{color:"#00b3ba"},children:"New Ways To Build (NWB) ‚Ä¢ Flexible Scheduling ‚Ä¢ Licensed Contractors"})]})]})]}),e.jsx("div",{className:"bg-red-500/10 backdrop-blur-lg rounded-2xl p-6 border border-red-500/20",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-3xl",children:"üö®"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-red-400 mb-1",children:"Need Emergency Service?"}),e.jsx("p",{className:"text-slate-300 text-sm mb-2",children:"For urgent property emergencies that can't wait for rescheduling:"}),e.jsx("a",{href:"tel:+13235554663",className:"inline-flex items-center px-4 py-2 rounded-lg text-white font-semibold transition-all duration-300 hover:scale-105 text-sm",style:{backgroundColor:"#00b3ba"},children:"üìû 818---397--8536 - 24/7 Emergency Line"})]})]})}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Current Service Appointment"}),e.jsx("div",{className:"bg-white/5 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("span",{className:"text-4xl",children:P(r.service_type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-xl font-bold text-white mb-1",children:r.title}),e.jsx("p",{className:"text-gray-300 mb-2",children:r.service_type_label}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-yellow-400 font-medium flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üìÖ"}),"Currently scheduled: ",j(r.appointment_date,r.start_time)]}),r.priority_label&&e.jsxs("p",{className:"text-gray-300 flex items-center mt-1",children:[e.jsx("span",{className:"mr-2",children:"‚ö°"}),"Priority: ",r.priority_label]})]}),r.address&&e.jsx("div",{children:e.jsxs("p",{className:"text-gray-300 flex items-start",children:[e.jsx("span",{className:"mr-2 mt-0.5",children:"üìç"}),e.jsx("span",{className:"flex-1",children:r.address})]})})]})]})]})})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Choose New Service Date & Time"}),g.length>0?e.jsxs("form",{onSubmit:C,className:"space-y-8",children:[e.jsx("div",{className:"space-y-6",children:g.map((s,i)=>e.jsxs("div",{className:`rounded-xl border-2 transition-all duration-200 ${(t==null?void 0:t.date)===s.date?"text-white border-white/30":"border-white/30 bg-white/5"}`,style:(t==null?void 0:t.date)===s.date?{borderColor:"#00b3ba",backgroundColor:"rgba(0, 179, 186, 0.1)"}:{},children:[e.jsxs("button",{type:"button",onClick:()=>M(s),className:"w-full p-4 text-left flex items-center justify-between hover:bg-white/5 rounded-t-xl transition-colors",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-white flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üóìÔ∏è"}),s.day_name]}),e.jsx("p",{className:"text-gray-300",children:s.date_formatted})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium",style:{color:"#00b3ba"},children:[s.slots.length," service slots available"]}),e.jsx("span",{className:`transform transition-transform ${(t==null?void 0:t.date)===s.date?"rotate-180":""}`,children:"‚åÑ"})]})]}),(t==null?void 0:t.date)===s.date&&e.jsxs("div",{className:"p-4 pt-0 border-t border-white/10",children:[e.jsxs("p",{className:"text-gray-300 mb-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚è∞"}),"Available service time slots (2-hour windows):"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:s.slots.map((l,o)=>e.jsxs("button",{type:"button",onClick:()=>A(l),className:`p-4 rounded-lg border text-center transition-all ${(a==null?void 0:a.start_time)===l.start_time?"text-white border-white/30":"border-white/30 bg-white/5 text-gray-300 hover:bg-white/10"}`,style:(a==null?void 0:a.start_time)===l.start_time?{borderColor:"#00b3ba",backgroundColor:"rgba(0, 179, 186, 0.2)"}:{},children:[e.jsx("div",{className:"font-medium",children:l.label}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Professional service window"})]},o))})]})]},s.date))}),t&&a&&e.jsxs("div",{className:"border border-green-500/20 rounded-xl p-6",style:{backgroundColor:"rgba(34, 197, 94, 0.1)"},children:[e.jsxs("h4",{className:"text-green-300 font-semibold mb-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚úÖ"}),"New Service Appointment Details"]}),e.jsxs("div",{className:"text-white space-y-2",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üìÖ"}),e.jsx("strong",{children:"Service Date:"})," ",t.date_formatted," (",t.day_name,")"]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚è∞"}),e.jsx("strong",{children:"Service Time:"})," ",a.label]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üè†"}),e.jsx("strong",{children:"Service Type:"})," ",r.service_type_label]}),e.jsx("div",{className:"mt-3 p-3 rounded-lg bg-white/5",children:e.jsxs("p",{className:"text-green-300 text-sm",children:[e.jsx("strong",{children:"Rescheduling Summary:"})," Your service appointment will be moved from ",e.jsx("span",{className:"text-yellow-300",children:j(r.appointment_date,r.start_time)})," to ",e.jsxs("span",{className:"text-green-300",children:[t.date_formatted," at ",a.label.split(" - ")[0]]}),"."]})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[e.jsx(m,{href:`/appointments/${r.id}`,className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-medium transition-all text-center",children:"Cancel Rescheduling"}),e.jsx("button",{type:"submit",disabled:d||!t||!a,className:"flex-1 text-white px-6 py-3 rounded-lg font-medium transition-all transform hover:scale-105 disabled:opacity-50 disabled:transform-none disabled:cursor-not-allowed shadow-lg",style:{background:t&&a&&!d?"linear-gradient(135deg, #00b3ba 0%, #008a94 100%)":"#6b7280"},children:d?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Rescheduling Service..."]}):e.jsxs("span",{className:"flex items-center justify-center",children:["Confirm Service Reschedule",e.jsx("span",{className:"ml-2",children:"üè°"})]})})]}),c.appointment_date&&e.jsx("p",{className:"text-red-400 text-sm",children:c.appointment_date}),c.start_time&&e.jsx("p",{className:"text-red-400 text-sm",children:c.start_time})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üè°"}),e.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"No Available Service Slots"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"There are currently no available service appointments in the next 14 days. Our team is working to accommodate your needs - please contact us for priority scheduling."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("a",{href:"tel:+13235554663",className:"text-white px-6 py-3 rounded-lg font-medium transition-all",style:{backgroundColor:"#00b3ba"},children:"üìû Call (323) 555-HOME"}),e.jsx("button",{onClick:()=>h("WhatsApp support integration coming soon!"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-all",children:"üí¨ WhatsApp Support"}),e.jsx(m,{href:`/appointments/${r.id}`,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-medium transition-all text-center",children:"Back to Appointment"})]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:[e.jsxs("h4",{className:"text-white font-semibold mb-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üè°"}),"NWB Service Rescheduling Policy"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-blue-300 font-medium mb-2",children:"No-Fee Rescheduling"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Free rescheduling 24+ hours in advance"}),e.jsx("li",{children:"‚Ä¢ Emergency rescheduling always free"}),e.jsx("li",{children:"‚Ä¢ Subscription members get priority slots"}),e.jsx("li",{children:"‚Ä¢ Weather-related delays are automatic"})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-green-300 font-medium mb-2",children:"What Stays the Same"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Service type and scope remain unchanged"}),e.jsx("li",{children:"‚Ä¢ Same assigned technician when possible"}),e.jsx("li",{children:"‚Ä¢ Property access requirements preserved"}),e.jsx("li",{children:"‚Ä¢ Original service notes and preparations"})]})]})]})]}),e.jsxs("div",{className:"border border-yellow-500/20 rounded-xl p-6",style:{backgroundColor:"rgba(255, 193, 7, 0.1)"},children:[e.jsxs("h4",{className:"text-yellow-300 font-semibold mb-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚ÑπÔ∏è"}),"Important Rescheduling Information"]}),e.jsxs("ul",{className:"text-yellow-200 text-sm space-y-2",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Confirmation:"})," You will receive SMS and email confirmation once rescheduled"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Technician Assignment:"})," We'll try to keep the same technician for continuity"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Service Preparation:"})," All materials and tools remain prepared for your service"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Property Access:"})," Previous access instructions and requirements are preserved"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Priority Scheduling:"})," Subscription members get first access to premium time slots"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Emergency Changes:"})," Call (323) 555-HOME for same-day emergency rescheduling"]})]})]})]})})}export{B as default};
