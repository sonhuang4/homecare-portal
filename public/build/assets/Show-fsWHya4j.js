import{u as y,r as k,j as e,t as l,S as g}from"./app-CM2Jc_wx.js";import{A as L}from"./AdminLayout-DCZ4GjGU.js";function C({auth:j,user:s,recentRequests:a=[],recentAppointments:i=[],stats:r={}}){const{success:c,error:x,info:m}=y(),[u,n]=k.useState(!1),d=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),o=t=>new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric"}),p=t=>t.split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2),h=t=>({submitted:"bg-blue-500/20 border-blue-500/30 text-blue-400",reviewed:"bg-yellow-500/20 border-yellow-500/30 text-yellow-400",in_progress:"bg-orange-500/20 border-orange-500/30 text-orange-400",completed:"bg-green-500/20 border-green-500/30 text-green-400",cancelled:"bg-red-500/20 border-red-500/30 text-red-400",scheduled:"bg-blue-500/20 border-blue-500/30 text-blue-400",confirmed:"bg-green-500/20 border-green-500/30 text-green-400"})[t]||"bg-gray-500/20 border-gray-500/30 text-gray-400",v=()=>{const t=s.is_active?"deactivate":"activate";confirm(`Are you sure you want to ${t} this user?`)&&g.patch(`/admin/users/${s.id}/toggle-status`,{},{onSuccess:()=>{c(`User ${t}d successfully`)},onError:()=>{x(`Failed to ${t} user`)}})},f=()=>{g.delete(`/admin/users/${s.id}`,{onSuccess:()=>{c("User deleted successfully")},onError:()=>{x("Failed to delete user")}}),n(!1)},N=()=>{m("Login as user feature coming soon")},w=()=>{m("Password reset email sent to user")};return e.jsx(L,{title:`User Profile - ${s.name}`,auth:j,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-3xl",style:{background:"linear-gradient(135deg, rgba(0, 179, 186, 0.1) 0%, rgba(0, 179, 186, 0.05) 100%)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 rounded-full filter blur-3xl",style:{backgroundColor:"#00b3ba"}})}),e.jsx("div",{className:"relative p-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold text-3xl",children:p(s.name)}),s.role==="admin"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-yellow-500 flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"ðŸ‘‘"})}),e.jsx("div",{className:`absolute -bottom-2 -right-2 w-8 h-8 rounded-full border-4 border-white flex items-center justify-center ${s.is_active?"bg-green-500":"bg-red-500"}`,children:e.jsx("span",{className:"text-white text-xs font-bold",children:s.is_active?"âœ“":"âœ•"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:s.name}),e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${s.is_active?"bg-green-500/20 border-green-500/30 text-green-400 border":"bg-red-500/20 border-red-500/30 text-red-400 border"}`,children:s.is_active?"ðŸŸ¢ Active":"ðŸ”´ Inactive"}),e.jsx("span",{className:"text-slate-300 text-sm",children:s.role==="admin"?"ðŸ‘‘ Administrator":"ðŸ‘¤ Client"}),!s.email_verified_at&&e.jsx("span",{className:"bg-yellow-500/20 border-yellow-500/30 text-yellow-400 border px-3 py-1 rounded-full text-sm font-medium",children:"âš ï¸ Unverified"})]}),e.jsxs("p",{className:"text-slate-300",children:[e.jsxs("span",{className:"mr-4",children:["ðŸ“§ ",s.email]}),s.phone&&e.jsxs("span",{className:"mr-4",children:["ðŸ“± ",s.phone]})]}),e.jsxs("p",{className:"text-sm font-medium mt-2",style:{color:"#00b3ba"},children:["User ID: ",s.id," â€¢ Joined: ",o(s.created_at)," â€¢ Last Active: ",o(s.updated_at)]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(l,{href:`/admin/users/${s.id}/edit`,className:"text-white px-4 py-2 rounded-lg font-medium transition-all transform hover:scale-105 shadow-lg flex items-center gap-2",style:{backgroundColor:"#00b3ba"},children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit User"]}),e.jsx("button",{onClick:v,className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${s.is_active?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:s.is_active?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636"})}),"Deactivate"]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Activate"]})}),e.jsxs(l,{href:"/admin/users",className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Users"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:r.total_requests||a.length}),e.jsx("div",{className:"text-gray-300 text-sm",children:"Total Requests"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:r.total_appointments||i.length}),e.jsx("div",{className:"text-gray-300 text-sm",children:"Total Appointments"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-400",children:r.active_subscriptions||0}),e.jsx("div",{className:"text-gray-300 text-sm",children:"Active Plans"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-400",children:r.last_login||"Never"}),e.jsx("div",{className:"text-gray-300 text-sm",children:"Days Since Login"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl border border-white/20 p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 mr-3",style:{color:"#00b3ba"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"User Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-b border-white/10 pb-3",children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Full Name"}),e.jsx("p",{className:"text-white font-medium",children:s.name})]}),e.jsxs("div",{className:"border-b border-white/10 pb-3",children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Email Address"}),e.jsx("p",{className:"text-white font-medium",children:s.email}),s.email_verified_at&&e.jsxs("p",{className:"text-green-400 text-xs",children:["âœ… Verified ",o(s.email_verified_at)]})]}),e.jsxs("div",{className:"border-b border-white/10 pb-3",children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Phone Number"}),e.jsx("p",{className:"text-white font-medium",children:s.phone||"â€”"})]}),e.jsxs("div",{className:"border-b border-white/10 pb-3",children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Property Address"}),e.jsx("p",{className:"text-white font-medium",children:s.address||"â€”"})]}),e.jsxs("div",{className:"border-b border-white/10 pb-3",children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Account Status"}),e.jsx("p",{className:`font-medium ${s.is_active?"text-green-400":"text-red-400"}`,children:s.is_active?"ðŸŸ¢ Active":"ðŸ”´ Inactive"})]}),e.jsxs("div",{className:"border-b border-white/10 pb-3",children:[e.jsx("label",{className:"text-sm text-gray-400",children:"User Role"}),e.jsx("p",{className:"text-white font-medium",children:s.role==="admin"?"ðŸ‘‘ Administrator":"ðŸ‘¤ Client"})]}),e.jsxs("div",{className:"border-b border-white/10 pb-3",children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Joined Date"}),e.jsx("p",{className:"text-white font-medium",children:d(s.created_at)})]}),s.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Admin Notes"}),e.jsx("p",{className:"text-white font-medium bg-white/5 p-3 rounded-lg mt-1",children:s.notes})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10",children:[e.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:N,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-blue-400 hover:bg-blue-500/10 rounded-lg transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Login as User"]}),e.jsxs("button",{onClick:w,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-green-400 hover:bg-green-500/10 rounded-lg transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),"Reset Password"]}),e.jsxs("button",{onClick:()=>n(!0),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete User"]})]})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl border border-white/20 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 mr-3",style:{color:"#00b3ba"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Recent Service Requests"]}),e.jsx(l,{href:`/admin/requests?user_id=${s.id}`,className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"View All â†’"})]}),a.length>0?e.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(t=>e.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-4 rounded-lg hover:bg-white/10 transition-all",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ¡"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:t.subject}),e.jsx("p",{className:"text-gray-400 text-sm",children:d(t.created_at)})]})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${h(t.status)}`,children:t.status_label||t.status}),e.jsx(l,{href:`/admin/requests/${t.id}`,className:"text-blue-400 hover:text-blue-300 text-sm",children:"View"})]})]},t.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx("span",{className:"text-4xl block mb-2",children:"ðŸ“‹"}),e.jsx("p",{children:"No service requests yet"})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl border border-white/20 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 mr-3",style:{color:"#00b3ba"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3a4 4 0 118 0v4m-4 0v9M7 7l5 5 5-5"})}),"Recent Appointments"]})}),i.length>0?e.jsx("div",{className:"space-y-3",children:i.slice(0,5).map(t=>e.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-4 rounded-lg hover:bg-white/10 transition-all",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“…"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:t.title}),e.jsx("p",{className:"text-gray-400 text-sm",children:d(t.appointment_date)})]})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${h(t.status)}`,children:t.status_label||t.status}),e.jsx(l,{href:`/admin/appointments/${t.id}`,className:"text-blue-400 hover:text-blue-300 text-sm",children:"View"})]})]},t.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx("span",{className:"text-4xl block mb-2",children:"ðŸ“…"}),e.jsx("p",{children:"No appointments scheduled yet"})]})]})]})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl border border-white/20 p-6 max-w-md w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"âš ï¸"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Delete User Account"}),e.jsxs("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to delete ",e.jsx("strong",{children:s.name}),"? This action cannot be undone and will remove all their data including requests and appointments."]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>n(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:"Cancel"}),e.jsx("button",{onClick:f,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-all",children:"Delete User"})]})]})})})]})})}export{C as default};
