import{u as P,r as f,x as B,j as e}from"./app-CM2Jc_wx.js";import{C as M}from"./ClientLayout-0McRaGse.js";function D({auth:i,supportTeams:d,businessPhone:E}){var N,y,w;const{success:p,error:H,info:I,warning:h}=P(),[a,v]=f.useState("general"),[T,c]=f.useState(!0),{data:t,setData:m,processing:x,errors:u,reset:g}=B({team:"general",message:""}),l={general:{name:"General Support",icon:"üè°",description:"Property service questions and general support",color:"blue",examples:["Service scheduling","Account questions","Property inquiries","Subscription plans"]},emergency:{name:"Emergency Dispatch",icon:"üö®",description:"24/7 urgent property emergency response",color:"red",examples:["Water leaks","Electrical failures","Security breaches","HVAC failures"]},technical:{name:"Technical Support",icon:"üîß",description:"Property maintenance and repair services",color:"orange",examples:["HVAC service","Plumbing repairs","Electrical work","Home improvements"]},billing:{name:"Billing Support",icon:"üí≥",description:"Subscription billing and payment questions",color:"green",examples:["Payment questions","Subscription changes","Credit usage","Invoice inquiries"]},sales:{name:"Sales & Estimates",icon:"üìã",description:"New services and project estimates",color:"purple",examples:["Service estimates","New projects","Property assessments","Consultation requests"]}},S=["Hi, I need to schedule a property maintenance visit","I have an emergency property issue that needs immediate attention","I'd like to get an estimate for a home improvement project","I need to reschedule my upcoming service appointment","I have a question about my subscription billing","My HVAC system isn't working properly","I need help with a plumbing issue","I want to add additional services to my subscription"],C=async s=>{if(s.preventDefault(),!t.message.trim()){h("Please enter a message to start the chat with our NWB team");return}try{const r=await fetch("/whatsapp/start-chat",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content,Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({team:t.team,message:t.message})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=await r.json();if(console.log("WhatsApp response:",n),n.success&&n.chat_url)window.open(n.chat_url,"_blank"),p("üè° Opening WhatsApp chat with NWB support team..."),g(),c(!0);else throw new Error("Invalid response from server")}catch(r){console.error("Chat error:",r),h("Backend connection failed. Using direct WhatsApp link..."),b()}},b=()=>{const r={general:"+13235554663",emergency:"+13235554663",technical:"+13235554664",billing:"+13235554665",sales:"+13235554666"}[t.team]||"+13235554663",W=`Hi, I'm ${i.user.name} (Client ID: ${i.user.id}). ${t.message}`,A=`https://wa.me/${r.replace(/[^0-9]/g,"")}?text=${encodeURIComponent(W)}`;window.open(A,"_blank"),p("üè° Opening WhatsApp chat with NWB support team..."),g(),c(!0)},k=s=>{m("message",s),c(!1)},j=s=>{v(s),m("team",s),c(!1)},o=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return e.jsx(M,{title:"WhatsApp Support - NWB Homecare",auth:i,children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",style:{backgroundColor:"#0a0a0a"},children:[e.jsxs("div",{className:"relative overflow-hidden rounded-3xl",style:{background:"linear-gradient(135deg, rgba(0, 179, 186, 0.1) 0%, rgba(0, 179, 186, 0.05) 100%)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 rounded-full filter blur-3xl",style:{backgroundColor:"#00b3ba"}})}),e.jsxs("div",{className:"relative p-8 text-center",children:[e.jsxs("h2",{className:"text-4xl font-bold text-white mb-3 flex items-center justify-center gap-3",children:[e.jsx("span",{className:"text-5xl",children:"üí¨"}),"WhatsApp Support"]}),e.jsx("p",{className:"text-xl text-slate-300 mb-2",children:"Connect with our NWB homecare team via WhatsApp for instant assistance"}),e.jsx("p",{className:"text-sm font-medium mb-2",style:{color:"#00b3ba"},children:"New Ways To Build (NWB) ‚Ä¢ 24/7 Support ‚Ä¢ Licensed Contractors"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Professional property maintenance support at your fingertips"})]})]}),e.jsx("div",{className:"bg-red-500/10 backdrop-blur-lg rounded-2xl p-6 border border-red-500/20",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-3xl",children:"üö®"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-red-400 mb-1",children:"Property Emergency?"}),e.jsx("p",{className:"text-slate-300 text-sm mb-2",children:"For immediate property emergencies (water leaks, electrical failures, gas leaks, security breaches):"}),e.jsx("a",{href:"tel:+13235554663",className:"inline-flex items-center px-4 py-2 rounded-lg text-white font-semibold transition-all duration-300 hover:scale-105 text-sm mr-3",style:{backgroundColor:"#00b3ba"},children:"üìû 818---397--8536 - Emergency Hotline"}),e.jsx("button",{onClick:()=>j("emergency"),className:"inline-flex items-center px-4 py-2 rounded-lg text-white font-semibold transition-all duration-300 hover:scale-105 text-sm bg-red-600",children:"üí¨ Emergency WhatsApp"})]})]})}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üè°"}),"NWB Support Teams"]}),e.jsx("div",{className:"space-y-3",children:Object.entries(l).map(([s,r])=>e.jsxs("button",{onClick:()=>j(s),className:`w-full p-4 rounded-xl border-2 transition-all text-left ${a===s?"text-white":"border-white/30 bg-white/5 text-gray-300 hover:bg-white/10"}`,style:a===s?{borderColor:"#00b3ba",backgroundColor:"rgba(0, 179, 186, 0.1)"}:{},children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-2xl mr-3",children:r.icon}),e.jsx("span",{className:"font-semibold",children:r.name})]}),e.jsx("p",{className:"text-sm opacity-80 mb-2",children:r.description}),d&&d[s]&&e.jsxs("p",{className:"text-xs opacity-70",children:["Hours: ",d[s].hours]})]},s))})]}),a&&e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:[e.jsxs("h4",{className:"text-white font-semibold mb-3 flex items-center",children:[e.jsx("span",{className:"text-xl mr-2",children:l[a].icon}),l[a].name]}),e.jsx("p",{className:"text-gray-300 text-sm mb-3",children:l[a].description}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs mb-2",children:"Common service topics:"}),e.jsx("ul",{className:"text-gray-300 text-xs space-y-1",children:l[a].examples.map((s,r)=>e.jsxs("li",{children:["‚Ä¢ ",s]},r))})]})]}),e.jsxs("div",{className:"border border-blue-500/20 rounded-2xl p-6",style:{backgroundColor:"rgba(0, 179, 186, 0.1)"},children:[e.jsxs("h4",{className:"text-blue-300 font-semibold mb-3 flex items-center",children:[e.jsx("span",{className:"text-lg mr-2",children:"üïê"}),"NWB Service Hours"]}),e.jsxs("div",{className:"text-blue-200 text-sm space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"General Support:"})," 8:00 AM - 6:00 PM PST"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Emergency Dispatch:"})," 24/7 Available"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Technical Support:"})," 7:00 AM - 8:00 PM PST"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Billing Support:"})," 9:00 AM - 5:00 PM PST"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sales & Estimates:"})," 8:00 AM - 6:00 PM PST"]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-500/20",children:e.jsxs("p",{className:"text-blue-200 text-xs",children:[e.jsx("strong",{children:"Note:"})," Emergency services available 24/7 for property emergencies"]})})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:[e.jsxs("h4",{className:"text-white font-semibold mb-3 flex items-center",children:[e.jsx("span",{className:"text-lg mr-2",children:"üìç"}),"Service Area"]}),e.jsxs("div",{className:"text-gray-300 text-sm space-y-2",children:[e.jsxs("p",{children:["üè° ",e.jsx("strong",{children:"Primary:"})," Los Angeles County"]}),e.jsxs("p",{children:["üöó ",e.jsx("strong",{children:"Service Radius:"})," 25 miles from downtown LA"]}),e.jsxs("p",{children:["‚ö° ",e.jsx("strong",{children:"Emergency:"})," Extended coverage for emergencies"]}),e.jsxs("p",{children:["üìû ",e.jsx("strong",{children:"Contact:"})," (323) 555-HOME"]})]})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl border border-white/20 overflow-hidden",children:[e.jsxs("div",{className:"p-4 flex items-center justify-between",style:{backgroundColor:"#00b3ba"},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-2xl",children:"üè°"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold",children:"NWB Homecare"}),e.jsxs("p",{className:"text-blue-100 text-sm",children:[(N=l[a])==null?void 0:N.name," ‚Ä¢ Online ‚Ä¢ Licensed Contractors"]})]})]}),e.jsx("div",{className:"text-white",children:e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.89 3.687"})})})]}),e.jsxs("div",{className:"p-6 space-y-4 h-80 overflow-y-auto bg-gradient-to-b from-gray-50 to-gray-100",children:[e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-xs",children:"üîí Messages are end-to-end encrypted"})}),e.jsx("div",{className:"flex items-start",children:e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm max-w-sm",children:[e.jsxs("p",{className:"text-gray-800 text-sm mb-2",children:["Hello ",i.user.name,"! üè° Welcome to NWB Homecare support."]}),e.jsx("p",{className:"text-gray-800 text-sm",children:"I'm here to help with your property maintenance needs. How can I assist you today?"}),e.jsxs("span",{className:"text-xs text-gray-500 mt-2 block",children:[o()," ‚Ä¢ NWB Support"]})]})}),e.jsx("div",{className:"flex items-start",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded-lg shadow-sm max-w-sm",children:[e.jsxs("p",{className:"text-blue-800 text-sm",children:[e.jsx("strong",{children:"Service Areas:"})," Los Angeles County",e.jsx("br",{}),e.jsx("strong",{children:"Emergency Line:"})," (323) 555-HOME",e.jsx("br",{}),e.jsx("strong",{children:"Licensed & Insured:"})," CA Contractor's License"]}),e.jsx("span",{className:"text-xs text-blue-600 mt-1 block",children:o()})]})}),t.message&&e.jsx("div",{className:"flex items-end justify-end",children:e.jsxs("div",{className:"p-3 rounded-lg shadow-sm max-w-sm",style:{backgroundColor:"#00b3ba",color:"white"},children:[e.jsx("p",{className:"text-sm",children:t.message}),e.jsxs("span",{className:"text-xs opacity-75 mt-1 block",children:[o()," ‚úì‚úì"]})]})}),t.message&&e.jsx("div",{className:"flex items-start",children:e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm max-w-sm",children:[e.jsxs("p",{className:"text-gray-800 text-sm",children:["Thank you for contacting NWB! I've received your message and will connect you with our ",(y=l[a])==null?void 0:y.name," team right away. üîß"]}),e.jsxs("span",{className:"text-xs text-gray-500 mt-1 block",children:[o()," ‚Ä¢ Auto-Response"]})]})})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚ö°"}),"Quick Service Messages"]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:S.map((s,r)=>e.jsx("button",{onClick:()=>k(s),className:"text-left p-3 bg-white/5 border border-white/20 rounded-lg hover:bg-white/10 transition-all text-gray-300 hover:text-white",children:e.jsxs("span",{className:"text-sm",children:['"',s,'"']})},r))})]}),e.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Your Property Service Message"}),e.jsx("textarea",{value:t.message,onChange:s=>m("message",s.target.value),rows:"4",className:"w-full px-4 py-3 bg-[#232424] border border-white/30 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:border-transparent resize-none",style:{"--tw-ring-color":"#00b3ba"},placeholder:"Describe your property maintenance need, emergency, or question. Include property address if relevant...",required:!0}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Include: Property address, issue description, urgency level, preferred contact method"}),u.message&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:u.message})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-gray-300 text-sm",children:[e.jsx("span",{className:"mr-2",children:"üì±"}),e.jsxs("span",{children:["Will open WhatsApp with NWB ",(w=l[a])==null?void 0:w.name]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:b,className:"text-white px-4 py-2 rounded-lg font-medium transition-all hover:scale-105 text-sm border border-gray-500",style:{backgroundColor:"#6b7280"},children:"Direct WhatsApp"}),e.jsx("button",{type:"submit",disabled:x||!t.message.trim(),className:"text-white px-6 py-3 rounded-lg font-medium transition-all transform hover:scale-105 disabled:opacity-50 disabled:transform-none shadow-lg flex items-center gap-2",style:{background:!x&&t.message.trim()?"linear-gradient(135deg, #00b3ba 0%, #008a94 100%)":"#6b7280"},children:x?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting to NWB..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.89 3.687"})}),"Start NWB WhatsApp Chat"]})})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border border-blue-500/20 rounded-xl p-4",style:{backgroundColor:"rgba(0, 179, 186, 0.1)"},children:[e.jsxs("h4",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üîí"}),"Secure & Professional"]}),e.jsx("p",{className:"text-blue-200 text-sm",children:"Licensed contractors with end-to-end encrypted communication"})]}),e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-green-300 font-semibold mb-2 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚ö°"}),"24/7 Emergency Response"]}),e.jsx("p",{className:"text-green-200 text-sm",children:"Immediate response for property emergencies and urgent repairs"})]}),e.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-purple-300 font-semibold mb-2 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üè°"}),"Smart Service Routing"]}),e.jsx("p",{className:"text-purple-200 text-sm",children:"Messages routed to the right specialist for your property needs"})]}),e.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/20 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-orange-300 font-semibold mb-2 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üì±"}),"Mobile Service Coordination"]}),e.jsx("p",{className:"text-orange-200 text-sm",children:"Real-time updates and technician tracking via WhatsApp"})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:[e.jsxs("h4",{className:"text-white font-semibold mb-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üìã"}),"How to Get NWB Homecare Support"]}),e.jsxs("div",{className:"text-gray-300 text-sm space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"1. Choose Support Team:"})," Select the appropriate NWB team above"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"2. Describe Your Need:"})," Include property address, issue details, and urgency"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"3. Start WhatsApp Chat:"})," Click to open WhatsApp with your message pre-filled"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"4. Get Expert Help:"})," Our licensed technicians will assist you promptly"]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-500/20",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-2",children:e.jsx("strong",{children:"Don't have WhatsApp?"})}),e.jsx("a",{href:"https://www.whatsapp.com/download",target:"_blank",rel:"noopener noreferrer",className:"text-green-400 hover:text-green-300 underline text-xs",children:"Download WhatsApp ‚Üí"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-2",children:e.jsx("strong",{children:"Prefer to call?"})}),e.jsx("a",{href:"tel:+13235554663",className:"text-blue-400 hover:text-blue-300 underline text-xs",children:"(323) 555-HOME"})]})]})})]})]})]})]})})}export{D as default};
