import{u as _,r as g,j as e,t as a,S as p}from"./app-CM2Jc_wx.js";import{C as S}from"./ClientLayout-0McRaGse.js";function A({auth:j,appointments:d=[],stats:c={},filters:i={}}){const{info:v,success:k}=_(),[t,o]=g.useState(null),[N,x]=g.useState(!1),m=(s,l)=>{const r=new URLSearchParams(window.location.search);l==="all"||l===""?r.delete(s):r.set(s,l),p.get(`/appointments?${r.toString()}`,{},{preserveState:!0,preserveScroll:!0})},f=s=>{o(s),x(!0)},n=()=>{o(null),x(!1)},h=s=>({preventive_maintenance:"🔧",emergency_repair:"🚨",property_inspection:"📋",home_improvement:"🏗️",hvac_service:"❄️",plumbing_service:"🚿",electrical_service:"⚡",roofing_service:"🏠",painting_service:"🎨",landscaping_service:"🌿",security_service:"🔒",general_maintenance:"🛠️",consultation:"👨🏻‍🚒",home_visit:"🏠",follow_up:"🔄",assessment:"📋",therapy:"💪",medical_checkup:"🩺"})[s]||"📅",b=(s,l)=>`${{scheduled:"bg-blue-500/20 border-blue-500/30",confirmed:"bg-green-500/20 border-green-500/30",in_progress:"bg-orange-500/20 border-orange-500/30",completed:"bg-green-600/20 border-green-600/30",cancelled:"bg-red-500/20 border-red-500/30",no_show:"bg-gray-500/20 border-gray-500/30"}[s]||"bg-gray-500/20 border-gray-500/30"} ${l}`,u=(s,l)=>{const r=new Date(s),w=l.includes("T")?new Date(l):new Date(`2000-01-01T${l}`);return r.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})+" at "+w.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},y={preventive_maintenance:"Preventive Maintenance",emergency_repair:"Emergency Repair",property_inspection:"Property Inspection",home_improvement:"Home Improvement",hvac_service:"HVAC Service",plumbing_service:"Plumbing Service",electrical_service:"Electrical Service",roofing_service:"Roofing Service",painting_service:"Painting Service",landscaping_service:"Landscaping Service",security_service:"Security Service",general_maintenance:"General Maintenance",consultation:"Consultation",home_visit:"Home Visit",follow_up:"Follow-up Visit",assessment:"Assessment",inspection:"Inspection Session"};return e.jsx(S,{title:"My Service Appointments - NWB Homecare",auth:j,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-3xl",style:{background:"linear-gradient(135deg, rgba(0, 179, 186, 0.1) 0%, rgba(0, 179, 186, 0.05) 100%)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 rounded-full filter blur-3xl",style:{backgroundColor:"#00b3ba"}})}),e.jsx("div",{className:"relative p-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-4xl font-bold text-white flex items-center",children:[e.jsx("span",{className:"mr-4 text-5xl",children:"🏡"}),"My Service Appointments"]}),e.jsx("p",{className:"text-xl text-slate-300 mb-2",children:"Professional property maintenance scheduling"}),e.jsx("p",{className:"text-sm font-medium",style:{color:"#00b3ba"},children:"New Ways To Build (NWB) • Licensed & Insured • Serving LA since 2014"})]}),e.jsxs(a,{href:"/appointments/create",className:"text-white px-6 py-3 rounded-lg font-medium transition-all transform hover:scale-105 shadow-lg flex items-center gap-2",style:{backgroundColor:"#00b3ba"},children:[e.jsx("span",{children:"+"}),"Schedule Service"]})]})})]}),e.jsx("div",{className:"bg-red-500/10 backdrop-blur-lg rounded-2xl p-6 border border-red-500/20",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-3xl",children:"🚨"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-red-400 mb-1",children:"24/7 Emergency Service"}),e.jsx("p",{className:"text-slate-300 text-sm mb-2",children:"For urgent property emergencies (water leaks, electrical failures, security breaches):"}),e.jsx("a",{href:"tel:+13235554663",className:"inline-flex items-center px-4 py-2 rounded-lg text-white font-semibold transition-all duration-300 hover:scale-105 text-sm",style:{backgroundColor:"#00b3ba"},children:"📞 818---397--8536 - Emergency Hotline"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:c.total||0}),e.jsx("div",{className:"text-gray-300 text-sm",children:"Total Services"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:c.upcoming||0}),e.jsx("div",{className:"text-gray-300 text-sm",children:"Upcoming"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-400",children:c.today||0}),e.jsx("div",{className:"text-gray-300 text-sm",children:"Today"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:c.completed||0}),e.jsx("div",{className:"text-gray-300 text-sm",children:"Completed"})]})]}),e.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Service Status"}),e.jsxs("select",{value:i.status||"all",onChange:s=>m("status",s.target.value),className:"w-full px-3 py-2 bg-[#232424] border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"no_show",children:"No Show"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Service Type"}),e.jsxs("select",{value:i.service_type||"all",onChange:s=>m("service_type",s.target.value),className:"w-full px-3 py-2 bg-[#232424] border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Services"}),Object.entries(y).map(([s,l])=>e.jsx("option",{value:s,children:l},s))]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>p.get("/appointments"),className:"w-full bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:"Clear Filters"})})]})}),d.length>0?e.jsx("div",{className:"grid gap-6",children:d.map(s=>e.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 hover:bg-white/15 transition-all",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:h(s.service_type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:s.title}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${b(s.status,s.status_color)}`,children:s.status_label}),e.jsxs("span",{className:`text-sm font-medium ${s.priority_color}`,children:[s.priority_label," Priority"]})]}),s.description&&e.jsx("p",{className:"text-gray-300 mb-3",children:s.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx("span",{className:"mr-2",children:"📅"}),e.jsx("span",{children:s.full_date_time||u(s.appointment_date,s.start_time)})]}),e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx("span",{className:"mr-2",children:"⏱️"}),e.jsxs("span",{children:[s.duration||60," minutes"]})]}),s.assigned_staff&&e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx("span",{className:"mr-2",children:"👷‍♂️"}),e.jsx("span",{children:s.assigned_staff})]}),e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx("span",{className:"mr-2",children:"🏷️"}),e.jsx("span",{children:s.service_type_label})]})]}),e.jsxs("div",{className:"space-y-2",children:[s.address&&e.jsxs("div",{className:"flex items-start text-gray-300",children:[e.jsx("span",{className:"mr-2 mt-0.5",children:"📍"}),e.jsx("span",{className:"flex-1",children:s.address})]}),s.contact_phone&&e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx("span",{className:"mr-2",children:"📞"}),e.jsx("span",{children:s.contact_phone})]}),s.special_requirements&&s.special_requirements.length>0&&e.jsxs("div",{className:"flex items-start text-gray-300",children:[e.jsx("span",{className:"mr-2 mt-0.5",children:"⚠️"}),e.jsx("span",{className:"flex-1 text-xs",children:"Special requirements"})]})]})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row lg:flex-col gap-2 lg:w-48",children:[e.jsx("button",{onClick:()=>f(s),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all",children:"View Details"}),s.can_be_rescheduled&&e.jsx(a,{href:`/appointments/${s.id}/reschedule`,className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all text-center",children:"Reschedule"}),s.can_be_cancelled&&e.jsx(a,{href:`/appointments/${s.id}/cancel`,method:"patch",as:"button",data:{cancellation_reason:"schedule_conflict",cancellation_notes:"Cancelled via client portal"},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all",onClick:l=>{confirm("Are you sure you want to cancel this appointment?")||l.preventDefault()},children:"Cancel"}),e.jsx(a,{href:`/appointments/${s.id}`,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all text-center",children:"Full View"}),s.status==="completed"&&e.jsx("button",{onClick:()=>v("Feedback feature coming soon!"),className:"text-white px-4 py-2 rounded-lg text-sm font-medium transition-all text-center",style:{backgroundColor:"#00b3ba"},children:"Leave Review"})]})]})},s.id))}):e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl border border-white/20 text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🏡"}),e.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"No service appointments found"}),e.jsx("p",{className:"text-gray-400 mb-6",children:Object.keys(i).some(s=>i[s]&&i[s]!=="all")?"No appointments match your current filters. Try adjusting your search criteria.":"You don't have any property service appointments scheduled yet."}),e.jsx(a,{href:"/appointments/create",className:"text-white px-6 py-3 rounded-lg font-medium transition-all transform hover:scale-105",style:{backgroundColor:"#00b3ba"},children:"Schedule Your First Service"})]}),N&&t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:n,children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl border border-white/20 p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Service Appointment Details"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors text-2xl",children:"×"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-3xl",children:h(t.service_type)}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:t.title}),e.jsx("p",{className:"text-gray-300",children:t.service_type_label})]})]}),t.description&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Service Description"}),e.jsx("p",{className:"text-white",children:t.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date & Time"}),e.jsx("p",{className:"text-white",children:t.full_date_time||u(t.appointment_date,t.start_time)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Duration"}),e.jsxs("p",{className:"text-white",children:[t.duration||60," minutes"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${b(t.status,t.status_color)}`,children:t.status_label})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Priority"}),e.jsx("p",{className:`font-medium ${t.priority_color}`,children:t.priority_label})]})]}),t.address&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Property Location"}),e.jsx("p",{className:"text-white",children:t.address})]}),t.assigned_staff&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Assigned Technician"}),e.jsx("p",{className:"text-white",children:t.assigned_staff})]}),t.contact_phone&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Contact Phone"}),e.jsx("p",{className:"text-white",children:t.contact_phone})]}),t.special_requirements&&t.special_requirements.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Special Requirements"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.special_requirements.map((s,l)=>e.jsx("span",{className:"bg-white/10 text-gray-300 px-2 py-1 rounded text-sm",children:s},l))})]}),t.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Client Notes"}),e.jsx("p",{className:"text-white bg-white/5 p-3 rounded-lg",children:t.notes})]}),t.admin_notes&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Admin Notes"}),e.jsx("p",{className:"text-white bg-blue-500/10 p-3 rounded-lg border border-blue-500/20",children:t.admin_notes})]}),t.status==="cancelled"&&e.jsxs("div",{className:"bg-red-500/10 p-3 rounded-lg border border-red-500/20",children:[e.jsx("label",{className:"block text-sm font-medium text-red-300 mb-1",children:"Cancellation Details"}),t.cancellation_reason&&e.jsxs("p",{className:"text-red-200 text-sm mb-1",children:["Reason: ",t.cancellation_reason.replace("_"," ").replace(/\b\w/g,s=>s.toUpperCase())]}),t.cancellation_notes&&e.jsxs("p",{className:"text-red-200 text-sm",children:["Notes: ",t.cancellation_notes]}),t.cancelled_at&&e.jsxs("p",{className:"text-red-200 text-sm",children:["Cancelled: ",new Date(t.cancelled_at).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:n,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:"Close"}),e.jsx(a,{href:`/appointments/${t.id}`,className:"text-white px-4 py-2 rounded-lg transition-all",style:{backgroundColor:"#00b3ba"},children:"Full Details"})]})]})}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🎯"}),"Your NWB Homecare Benefits"]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 rounded-lg bg-white/5",children:[e.jsx("span",{className:"text-3xl block mb-2",children:"🛡️"}),e.jsx("h4",{className:"text-white font-semibold mb-1",children:"Licensed & Insured"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Full insurance coverage & CA contractor license"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-white/5",children:[e.jsx("span",{className:"text-3xl block mb-2",children:"⚡"}),e.jsx("h4",{className:"text-white font-semibold mb-1",children:"24/7 Emergency"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Always available for urgent property issues"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-white/5",children:[e.jsx("span",{className:"text-3xl block mb-2",children:"💳"}),e.jsx("h4",{className:"text-white font-semibold mb-1",children:"Credit System"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Unused visits convert to credits for future use"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-white/5",children:[e.jsx("span",{className:"text-3xl block mb-2",children:"🏆"}),e.jsx("h4",{className:"text-white font-semibold mb-1",children:"500+ Happy Clients"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Serving LA homeowners since 2014"})]})]})]})]})})}export{A as default};
